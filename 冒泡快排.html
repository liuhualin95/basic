<!DOCTYPE html>
<html>
<head>
	<title>各种排序</title>
	<meta charset="utf-8">
</head>
<body>
</body>
<script type="text/javascript">
	//冒泡
	var test1 = [5,8,2,3,9,4,1,6,7];
	function bubbleSort(arr){
		var n = arr.length;
		while(n){
			for(var i=0;i<n-1;i++){
				if(arr[i]>arr[i+1]){
					var temp=arr[i];
					arr[i]=arr[i+1];
					arr[i+1]=temp;
				}
			}
			n--;
		}
		return arr;
	}
	console.log(bubbleSort(test1));//[1, 2, 3, 4, 5, 6, 7, 8, 9]

	//快排
	var test2 = [5,8,2,3,9,4,1,6,7];
	function quickSort(arr){
		if(arr.length<=1) return arr;
		var pivotIndex = Math.floor(arr.length/2);
		var pivot = arr.splice(pivotIndex,1)[0];
		var left=[],right=[];
		for(var i=0;i<arr.length;i++){
			if(arr[i]<pivot)
				left.push(arr[i]);
			else
				right.push(arr[i]);
		}
		return quickSort(left).concat(pivot,quickSort(right));
	}
	console.log(quickSort(test2));//[1, 2, 3, 4, 5, 6, 7, 8, 9]

	//选择
	var test3 = [5,8,2,3,9,4,1,6,7];
	function selectSort(arr){
		var min,temp;
		for(var i=0;i<arr.length;i++){
			min=i;
			for(var j=i+1;j<arr.length;j++){
				if(arr[j]<arr[min])
					min=j;
			}
			temp=arr[min];
			arr[min]=arr[i];
			arr[i]=temp;
		}
		return arr;
	}
	console.log(selectSort(test3));//[1, 2, 3, 4, 5, 6, 7, 8, 9]

	//插入
	var test4 = [5,8,2,3,9,4,1,6,7];
	function insertSort(arr){
		for(var i=0;i<arr.length;i++){
			var j=i;
			var temp = arr[j];
			//注意是和temp比较，j是变的，大于arr[j]就错了
			while(j&&arr[j-1]>temp){
				arr[j]=arr[j-1];
				j--;
			}
			arr[j]=temp;
		}
		return arr;
	}
	console.log(insertSort(test4));//[1, 2, 3, 4, 5, 6, 7, 8, 9]

	//归并
	var test5 = [5,8,2,3,9,4,1,6,7];
	function mergeSort(arr){
		if(arr.length<=1) return arr;
		var mid = Math.floor(arr.length/2);
		var left = arr.slice(0,mid);
		var right = arr.slice(mid);
		return merge(mergeSort(left),mergeSort(right));
	}
	function merge(left,right){
		var res = [];
		while(left.length&&right.length){
			if(left[0]<right[0])
				res.push(left.shift());
			else
				res.push(right.shift());
		}
		return res.concat(left,right);
	}
	console.log(mergeSort(test5));//[1, 2, 3, 4, 5, 6, 7, 8, 9]
</script>
</html>